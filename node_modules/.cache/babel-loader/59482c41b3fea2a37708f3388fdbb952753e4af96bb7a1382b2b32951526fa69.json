{"ast":null,"code":"import _objectSpread from \"/Users/karlmarkus/Documents/Veebirakenduste_Loomine/wadHW3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url.to-json.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { mapMutations } from \"vuex\";\nexport default {\n  props: {\n    post: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    // Normaliseerime JSON-i, et t√∂√∂taks nii \"profile-image\" kui \"image\" jne\n    viewPost: function viewPost() {\n      var raw = this.post || {};\n\n      // V√µta failinimi kas \"tartu.png\" v√µi \"res/images/tartu.png\"\n      var toFileName = function toFileName(path) {\n        if (!path) return null;\n        return path.split(\"/\").pop(); // v√µtab viimase osa\n      };\n      var profileFile = toFileName(raw[\"profile-image\"] || raw.profileImage);\n      var imageFile = toFileName(raw.image);\n      var profileUrl = profileFile ? new URL(\"../assets/images/\".concat(profileFile), import.meta.url).href : null;\n      var imageUrl = imageFile ? new URL(\"../assets/images/\".concat(imageFile), import.meta.url).href : null;\n      return {\n        id: raw.id,\n        author: raw.author,\n        date: raw.date,\n        location: raw.location,\n        title: raw.title,\n        text: raw.text,\n        tags: raw.tags || [],\n        likes: Number(raw.likes),\n        profileUrl: profileUrl,\n        imageUrl: imageUrl\n      };\n    }\n  },\n  methods: _objectSpread(_objectSpread({}, mapMutations([\"increaseLike\"])), {}, {\n    likePost: function likePost() {\n      this.increaseLike(this.viewPost.id);\n    }\n  })\n};","map":{"version":3,"names":["mapMutations","props","post","type","Object","required","computed","viewPost","raw","toFileName","path","split","pop","profileFile","profileImage","imageFile","image","profileUrl","URL","concat","import","meta","url","href","imageUrl","id","author","date","location","title","text","tags","likes","Number","methods","_objectSpread","likePost","increaseLike"],"sources":["/Users/karlmarkus/Documents/Veebirakenduste_Loomine/wadHW3/src/components/Posts.vue"],"sourcesContent":["<template>\n    <div class=\"post\">\n  \n      <!-- HEADER -->\n      <div class=\"post-header\">\n        <div class=\"author-info\">\n          <img\n            class=\"profile-picture\"\n            :src=\"viewPost.profileUrl\"\n            alt=\"Profile\"\n          />\n  \n          <div class=\"post-header-info\">\n            <h3 class=\"author\">{{ viewPost.author }}</h3>\n            <p class=\"date\">{{ viewPost.date }} ‚Ä¢ {{ viewPost.location }}</p>\n          </div>\n        </div>\n      </div>\n  \n      <!-- TITLE -->\n      <h2 class=\"title\">{{ viewPost.title }}</h2>\n  \n      <!-- IMAGE -->\n      <div v-if=\"viewPost.imageUrl\" class=\"post-image-wrapper\">\n        <img :src=\"viewPost.imageUrl\" class=\"post-image\" alt=\"Post image\">\n      </div>\n  \n      <!-- TEXT -->\n      <p class=\"text\">{{ viewPost.text }}</p>\n  \n      <!-- TAGS -->\n      <div class=\"tags\">\n        <span v-for=\"t in viewPost.tags\" :key=\"t\" class=\"tag\">#{{ t }}</span>\n      </div>\n  \n      <!-- LIKE BUTTON -->\n      <div class=\"like-section\">\n        <button class=\"like-btn\" @click=\"likePost\">üëç Like</button>\n        <span class=\"like-count\">{{ viewPost.likes }}</span>\n      </div>\n  \n    </div>\n  </template>\n  \n  <script>\n  import { mapMutations } from \"vuex\";\n  \n  export default {\n    props: {\n      post: { type: Object, required: true }\n    },\n  \n    computed: {\n      // Normaliseerime JSON-i, et t√∂√∂taks nii \"profile-image\" kui \"image\" jne\n      viewPost() {\n        const raw = this.post || {};\n  \n        // V√µta failinimi kas \"tartu.png\" v√µi \"res/images/tartu.png\"\n        const toFileName = (path) => {\n          if (!path) return null;\n          return path.split(\"/\").pop(); // v√µtab viimase osa\n        };\n  \n        const profileFile = toFileName(raw[\"profile-image\"] || raw.profileImage);\n        const imageFile = toFileName(raw.image);\n  \n        const profileUrl = profileFile\n          ? new URL(`../assets/images/${profileFile}`, import.meta.url).href\n          : null;\n  \n        const imageUrl = imageFile\n          ? new URL(`../assets/images/${imageFile}`, import.meta.url).href\n          : null;\n  \n        return {\n          id: raw.id,\n          author: raw.author,\n          date: raw.date,\n          location: raw.location,\n          title: raw.title,\n          text: raw.text,\n          tags: raw.tags || [],\n          likes: Number(raw.likes),\n          profileUrl,\n          imageUrl\n        };\n      }\n    },\n  \n    methods: {\n      ...mapMutations([\"increaseLike\"]),\n      likePost() {\n        this.increaseLike(this.viewPost.id);\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  .post {\n    border: 1px solid #ccc;\n    border-radius: 8px;\n    margin: 20px 0;\n    padding: 15px;\n    box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n  }\n  \n  .post + .post {\n    margin-top: 40px;\n    border-top: 2px dashed #aaa;\n  }\n  \n  .post-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 10px;\n  }\n  \n  .author-info {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n  }\n  \n  .profile-picture {\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n  \n  .date {\n    font-size: 0.9em;\n  }\n  \n  .post-image {\n    max-width: 100%;\n    height: auto;\n    border-radius: 5px;\n    margin-top: 10px;\n  }\n  \n  .text {\n    padding-bottom: 15px;\n    margin: 0;\n    font-size: 1em;\n    line-height: 1.5;\n  }\n  \n  .tags {\n    margin-top: 10px;\n  }\n  \n  .tag {\n    margin-right: 6px;\n    font-weight: bold;\n  }\n  \n  .like-section {\n    margin-top: 10px;\n  }\n  \n  .like-btn {\n    background: #1a4f8b;\n    color: #fff;\n    border: none;\n    padding: 8px 16px;\n    cursor: pointer;\n    border-radius: 4px;\n    margin-top: 10px;\n  }\n  \n  .like-btn:hover {\n    background: #163f6f;\n  }\n  \n  .like-count {\n    margin-left: 8px;\n    font-weight: bold;\n  }\n  </style>"],"mappings":";;;;;;;;;;;AA6CE,SAASA,YAAW,QAAS,MAAM;AAEnC,eAAe;EACbC,KAAK,EAAE;IACLC,IAAI,EAAE;MAAEC,IAAI,EAAEC,MAAM;MAAEC,QAAQ,EAAE;IAAK;EACvC,CAAC;EAEDC,QAAQ,EAAE;IACR;IACAC,QAAQ,WAARA,QAAQA,CAAA,EAAG;MACT,IAAMC,GAAE,GAAI,IAAI,CAACN,IAAG,IAAK,CAAC,CAAC;;MAE3B;MACA,IAAMO,UAAS,GAAI,SAAbA,UAASA,CAAKC,IAAI,EAAK;QAC3B,IAAI,CAACA,IAAI,EAAE,OAAO,IAAI;QACtB,OAAOA,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,EAAE;MAChC,CAAC;MAED,IAAMC,WAAU,GAAIJ,UAAU,CAACD,GAAG,CAAC,eAAe,KAAKA,GAAG,CAACM,YAAY,CAAC;MACxE,IAAMC,SAAQ,GAAIN,UAAU,CAACD,GAAG,CAACQ,KAAK,CAAC;MAEvC,IAAMC,UAAS,GAAIJ,WAAU,GACzB,IAAIK,GAAG,qBAAAC,MAAA,CAAqBN,WAAW,GAAIO,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC,CAACC,IAAG,GAC/D,IAAI;MAER,IAAMC,QAAO,GAAIT,SAAQ,GACrB,IAAIG,GAAG,qBAAAC,MAAA,CAAqBJ,SAAS,GAAIK,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC,CAACC,IAAG,GAC7D,IAAI;MAER,OAAO;QACLE,EAAE,EAAEjB,GAAG,CAACiB,EAAE;QACVC,MAAM,EAAElB,GAAG,CAACkB,MAAM;QAClBC,IAAI,EAAEnB,GAAG,CAACmB,IAAI;QACdC,QAAQ,EAAEpB,GAAG,CAACoB,QAAQ;QACtBC,KAAK,EAAErB,GAAG,CAACqB,KAAK;QAChBC,IAAI,EAAEtB,GAAG,CAACsB,IAAI;QACdC,IAAI,EAAEvB,GAAG,CAACuB,IAAG,IAAK,EAAE;QACpBC,KAAK,EAAEC,MAAM,CAACzB,GAAG,CAACwB,KAAK,CAAC;QACxBf,UAAU,EAAVA,UAAU;QACVO,QAAO,EAAPA;MACF,CAAC;IACH;EACF,CAAC;EAEDU,OAAO,EAAAC,aAAA,CAAAA,aAAA,KACFnC,YAAY,CAAC,CAAC,cAAc,CAAC,CAAC;IACjCoC,QAAQ,WAARA,QAAQA,CAAA,EAAG;MACT,IAAI,CAACC,YAAY,CAAC,IAAI,CAAC9B,QAAQ,CAACkB,EAAE,CAAC;IACrC;EAAA;AAEJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}