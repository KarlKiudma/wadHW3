{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"post\"\n};\nvar _hoisted_2 = {\n  \"class\": \"post-header\"\n};\nvar _hoisted_3 = {\n  \"class\": \"author-info\"\n};\nvar _hoisted_4 = [\"src\"];\nvar _hoisted_5 = {\n  \"class\": \"post-header-info\"\n};\nvar _hoisted_6 = {\n  \"class\": \"author\"\n};\nvar _hoisted_7 = {\n  \"class\": \"date\"\n};\nvar _hoisted_8 = {\n  \"class\": \"title\"\n};\nvar _hoisted_9 = {\n  key: 0,\n  \"class\": \"post-image-wrapper\"\n};\nvar _hoisted_10 = [\"src\"];\nvar _hoisted_11 = {\n  \"class\": \"text\"\n};\nvar _hoisted_12 = {\n  \"class\": \"tags\"\n};\nvar _hoisted_13 = {\n  \"class\": \"like-section\"\n};\nvar _hoisted_14 = {\n  \"class\": \"like-count\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" HEADER \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    \"class\": \"profile-picture\",\n    src: $options.viewPost.profileUrl,\n    alt: \"Profile\"\n  }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h3\", _hoisted_6, _toDisplayString($options.viewPost.author), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString($options.viewPost.date) + \" ‚Ä¢ \" + _toDisplayString($options.viewPost.location), 1 /* TEXT */)])])]), _createCommentVNode(\" TITLE \"), _createElementVNode(\"h2\", _hoisted_8, _toDisplayString($options.viewPost.title), 1 /* TEXT */), _createCommentVNode(\" IMAGE \"), $options.viewPost.imageUrl ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"img\", {\n    src: $options.viewPost.imageUrl,\n    \"class\": \"post-image\",\n    alt: \"Post image\"\n  }, null, 8 /* PROPS */, _hoisted_10)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" TEXT \"), _createElementVNode(\"p\", _hoisted_11, _toDisplayString($options.viewPost.text), 1 /* TEXT */), _createCommentVNode(\" TAGS \"), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.viewPost.tags, function (t) {\n    return _openBlock(), _createElementBlock(\"span\", {\n      key: t,\n      \"class\": \"tag\"\n    }, \"#\" + _toDisplayString(t), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" LIKE BUTTON \"), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n    \"class\": \"like-btn\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.likePost && $options.likePost.apply($options, arguments);\n    })\n  }, \"üëç Like\"), _createElementVNode(\"span\", _hoisted_14, _toDisplayString($options.viewPost.likes), 1 /* TEXT */)])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","src","$options","viewPost","profileUrl","alt","_hoisted_5","_hoisted_6","_toDisplayString","author","_hoisted_7","date","location","_hoisted_8","title","imageUrl","_hoisted_9","_hoisted_11","text","_hoisted_12","_Fragment","_renderList","tags","t","key","_hoisted_13","onClick","_cache","likePost","apply","arguments","_hoisted_14","likes"],"sources":["/Users/karlmarkus/Documents/Veebirakenduste_Loomine/wadHW3/src/components/Posts.vue"],"sourcesContent":["<template>\n    <div class=\"post\">\n  \n      <!-- HEADER -->\n      <div class=\"post-header\">\n        <div class=\"author-info\">\n          <img\n            class=\"profile-picture\"\n            :src=\"viewPost.profileUrl\"\n            alt=\"Profile\"\n          />\n  \n          <div class=\"post-header-info\">\n            <h3 class=\"author\">{{ viewPost.author }}</h3>\n            <p class=\"date\">{{ viewPost.date }} ‚Ä¢ {{ viewPost.location }}</p>\n          </div>\n        </div>\n      </div>\n  \n      <!-- TITLE -->\n      <h2 class=\"title\">{{ viewPost.title }}</h2>\n  \n      <!-- IMAGE -->\n      <div v-if=\"viewPost.imageUrl\" class=\"post-image-wrapper\">\n        <img :src=\"viewPost.imageUrl\" class=\"post-image\" alt=\"Post image\">\n      </div>\n  \n      <!-- TEXT -->\n      <p class=\"text\">{{ viewPost.text }}</p>\n  \n      <!-- TAGS -->\n      <div class=\"tags\">\n        <span v-for=\"t in viewPost.tags\" :key=\"t\" class=\"tag\">#{{ t }}</span>\n      </div>\n  \n      <!-- LIKE BUTTON -->\n      <div class=\"like-section\">\n        <button class=\"like-btn\" @click=\"likePost\">üëç Like</button>\n        <span class=\"like-count\">{{ viewPost.likes }}</span>\n      </div>\n  \n    </div>\n  </template>\n  \n  <script>\n  import { mapMutations } from \"vuex\";\n  \n  export default {\n    props: {\n      post: { type: Object, required: true }\n    },\n  \n    computed: {\n      // Normaliseerime JSON-i, et t√∂√∂taks nii \"profile-image\" kui \"image\" jne\n      viewPost() {\n        const raw = this.post || {};\n  \n        // V√µta failinimi kas \"tartu.png\" v√µi \"res/images/tartu.png\"\n        const toFileName = (path) => {\n          if (!path) return null;\n          return path.split(\"/\").pop(); // v√µtab viimase osa\n        };\n  \n        const profileFile = toFileName(raw[\"profile-image\"] || raw.profileImage);\n        const imageFile = toFileName(raw.image);\n  \n        const profileUrl = profileFile\n          ? new URL(`../assets/images/${profileFile}`, import.meta.url).href\n          : null;\n  \n        const imageUrl = imageFile\n          ? new URL(`../assets/images/${imageFile}`, import.meta.url).href\n          : null;\n  \n        return {\n          id: raw.id,\n          author: raw.author,\n          date: raw.date,\n          location: raw.location,\n          title: raw.title,\n          text: raw.text,\n          tags: raw.tags || [],\n          likes: Number(raw.likes),\n          profileUrl,\n          imageUrl\n        };\n      }\n    },\n  \n    methods: {\n      ...mapMutations([\"increaseLike\"]),\n      likePost() {\n        this.increaseLike(this.viewPost.id);\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  .post {\n    border: 1px solid #ccc;\n    border-radius: 8px;\n    margin: 20px 0;\n    padding: 15px;\n    box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n  }\n  \n  .post + .post {\n    margin-top: 40px;\n    border-top: 2px dashed #aaa;\n  }\n  \n  .post-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 10px;\n  }\n  \n  .author-info {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n  }\n  \n  .profile-picture {\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n  \n  .date {\n    font-size: 0.9em;\n  }\n  \n  .post-image {\n    max-width: 100%;\n    height: auto;\n    border-radius: 5px;\n    margin-top: 10px;\n  }\n  \n  .text {\n    padding-bottom: 15px;\n    margin: 0;\n    font-size: 1em;\n    line-height: 1.5;\n  }\n  \n  .tags {\n    margin-top: 10px;\n  }\n  \n  .tag {\n    margin-right: 6px;\n    font-weight: bold;\n  }\n  \n  .like-section {\n    margin-top: 10px;\n  }\n  \n  .like-btn {\n    background: #1a4f8b;\n    color: #fff;\n    border: none;\n    padding: 8px 16px;\n    cursor: pointer;\n    border-radius: 4px;\n    margin-top: 10px;\n  }\n  \n  .like-btn:hover {\n    background: #163f6f;\n  }\n  \n  .like-count {\n    margin-left: 8px;\n    font-weight: bold;\n  }\n  </style>"],"mappings":";;EACS,SAAM;AAAM;;EAGV,SAAM;AAAa;;EACjB,SAAM;AAAa;;;EAOjB,SAAM;AAAkB;;EACvB,SAAM;AAAQ;;EACf,SAAM;AAAM;;EAMjB,SAAM;AAAO;;;EAGa,SAAM;;;;EAKjC,SAAM;AAAM;;EAGV,SAAM;AAAM;;EAKZ,SAAM;AAAc;;EAEjB,SAAM;AAAY;;uBArC5BA,mBAAA,CAwCM,OAxCNC,UAwCM,GAtCJC,mBAAA,YAAe,EACfC,mBAAA,CAaM,OAbNC,UAaM,GAZJD,mBAAA,CAWM,OAXNE,UAWM,GAVJF,mBAAA,CAIE;IAHA,SAAM,iBAAiB;IACtBG,GAAG,EAAEC,QAAA,CAAAC,QAAQ,CAACC,UAAU;IACzBC,GAAG,EAAC;uCAGNP,mBAAA,CAGM,OAHNQ,UAGM,GAFJR,mBAAA,CAA6C,MAA7CS,UAA6C,EAAAC,gBAAA,CAAvBN,QAAA,CAAAC,QAAQ,CAACM,MAAM,kBACrCX,mBAAA,CAAiE,KAAjEY,UAAiE,EAAAF,gBAAA,CAA9CN,QAAA,CAAAC,QAAQ,CAACQ,IAAI,IAAG,KAAG,GAAAH,gBAAA,CAAGN,QAAA,CAAAC,QAAQ,CAACS,QAAQ,iB,OAKhEf,mBAAA,WAAc,EACdC,mBAAA,CAA2C,MAA3Ce,UAA2C,EAAAL,gBAAA,CAAtBN,QAAA,CAAAC,QAAQ,CAACW,KAAK,kBAEnCjB,mBAAA,WAAc,EACHK,QAAA,CAAAC,QAAQ,CAACY,QAAQ,I,cAA5BpB,mBAAA,CAEM,OAFNqB,UAEM,GADJlB,mBAAA,CAAkE;IAA5DG,GAAG,EAAEC,QAAA,CAAAC,QAAQ,CAACY,QAAQ;IAAE,SAAM,YAAY;IAACV,GAAG,EAAC;+EAGvDR,mBAAA,UAAa,EACbC,mBAAA,CAAuC,KAAvCmB,WAAuC,EAAAT,gBAAA,CAApBN,QAAA,CAAAC,QAAQ,CAACe,IAAI,kBAEhCrB,mBAAA,UAAa,EACbC,mBAAA,CAEM,OAFNqB,WAEM,I,kBADJxB,mBAAA,CAAqEyB,SAAA,QAAAC,WAAA,CAAnDnB,QAAA,CAAAC,QAAQ,CAACmB,IAAI,YAAlBC,CAAC;yBAAd5B,mBAAA,CAAqE;MAAnC6B,GAAG,EAAED,CAAC;MAAE,SAAM;OAAM,GAAC,GAAAf,gBAAA,CAAGe,CAAC;oCAG7D1B,mBAAA,iBAAoB,EACpBC,mBAAA,CAGM,OAHN2B,WAGM,GAFJ3B,mBAAA,CAA2D;IAAnD,SAAM,UAAU;IAAE4B,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEzB,QAAA,CAAA0B,QAAA,IAAA1B,QAAA,CAAA0B,QAAA,CAAAC,KAAA,CAAA3B,QAAA,EAAA4B,SAAA,CAAQ;IAAA;KAAE,SAAO,GAClDhC,mBAAA,CAAoD,QAApDiC,WAAoD,EAAAvB,gBAAA,CAAxBN,QAAA,CAAAC,QAAQ,CAAC6B,KAAK,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}