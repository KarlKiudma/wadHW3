{"ast":null,"code":"import _objectSpread from \"/Users/karlmarkus/Documents/Veebirakenduste_Loomine/wadHW3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { createStore } from \"vuex\";\nimport postsJson from \"@/data/posts.json\";\nexport default createStore({\n  strict: true,\n  state: {\n    posts: postsJson\n  },\n  getters: {\n    allPosts: function allPosts(state) {\n      return state.posts;\n    },\n    postsByTag: function postsByTag(state) {\n      return function (tag) {\n        return state.posts.filter(function (p) {\n          return p.tags.includes(tag);\n        });\n      };\n    }\n  },\n  mutations: {\n    increaseLike: function increaseLike(state, id) {\n      var post = state.posts.find(function (p) {\n        return p.id === id;\n      });\n      if (post) {\n        post.likes = Number(post.likes) + 1;\n      }\n    },\n    resetLikes: function resetLikes(state) {\n      state.posts.forEach(function (p) {\n        p.likes = 0;\n      });\n    },\n    updatePost: function updatePost(state, updatedPost) {\n      var index = state.posts.findIndex(function (p) {\n        return p.id === updatedPost.id;\n      });\n      if (index !== -1) {\n        state.posts[index] = _objectSpread(_objectSpread({}, state.posts[index]), updatedPost);\n      }\n    }\n  },\n  actions: {\n    increaseLikeAct: function increaseLikeAct(_ref, id) {\n      var commit = _ref.commit;\n      setTimeout(function () {\n        return commit(\"increaseLike\", id);\n      }, 300);\n    },\n    resetLikesAct: function resetLikesAct(_ref2) {\n      var commit = _ref2.commit;\n      setTimeout(function () {\n        return commit(\"resetLikes\");\n      }, 300);\n    }\n  }\n});","map":{"version":3,"names":["createStore","postsJson","strict","state","posts","getters","allPosts","postsByTag","tag","filter","p","tags","includes","mutations","increaseLike","id","post","find","likes","Number","resetLikes","forEach","updatePost","updatedPost","index","findIndex","_objectSpread","actions","increaseLikeAct","_ref","commit","setTimeout","resetLikesAct","_ref2"],"sources":["/Users/karlmarkus/Documents/Veebirakenduste_Loomine/wadHW3/src/store/index.js"],"sourcesContent":["import { createStore } from \"vuex\";\nimport postsJson from \"@/data/posts.json\";\n\nexport default createStore({\n  strict: true,\n\n  state: {\n    posts: postsJson\n  },\n\n  getters: {\n    allPosts: state => {\n      return state.posts;\n    },\n    postsByTag: state => tag => {\n      return state.posts.filter(p => p.tags.includes(tag));\n    }\n  },\n\n  mutations: {\n    increaseLike(state, id) {\n      const post = state.posts.find(p => p.id === id);\n      if (post) {\n        post.likes = Number(post.likes) + 1;\n      }\n    },\n\n    resetLikes(state) {\n      state.posts.forEach(p => {\n        p.likes = 0;\n      });\n    },\n\n    updatePost(state, updatedPost) {\n      const index = state.posts.findIndex(p => p.id === updatedPost.id);\n      if (index !== -1) {\n        state.posts[index] = { ...state.posts[index], ...updatedPost };\n      }\n    }\n  },\n\n  actions: {\n    increaseLikeAct({ commit }, id) {\n      setTimeout(() => commit(\"increaseLike\", id), 300);\n    },\n\n    resetLikesAct({ commit }) {\n      setTimeout(() => commit(\"resetLikes\"), 300);\n    }\n  }\n});"],"mappings":";;;;;;;;;;;;;;;AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,SAAS,MAAM,mBAAmB;AAEzC,eAAeD,WAAW,CAAC;EACzBE,MAAM,EAAE,IAAI;EAEZC,KAAK,EAAE;IACLC,KAAK,EAAEH;EACT,CAAC;EAEDI,OAAO,EAAE;IACPC,QAAQ,EAAE,SAAVA,QAAQA,CAAEH,KAAK,EAAI;MACjB,OAAOA,KAAK,CAACC,KAAK;IACpB,CAAC;IACDG,UAAU,EAAE,SAAZA,UAAUA,CAAEJ,KAAK;MAAA,OAAI,UAAAK,GAAG,EAAI;QAC1B,OAAOL,KAAK,CAACC,KAAK,CAACK,MAAM,CAAC,UAAAC,CAAC;UAAA,OAAIA,CAAC,CAACC,IAAI,CAACC,QAAQ,CAACJ,GAAG,CAAC;QAAA,EAAC;MACtD,CAAC;IAAA;EACH,CAAC;EAEDK,SAAS,EAAE;IACTC,YAAY,WAAZA,YAAYA,CAACX,KAAK,EAAEY,EAAE,EAAE;MACtB,IAAMC,IAAI,GAAGb,KAAK,CAACC,KAAK,CAACa,IAAI,CAAC,UAAAP,CAAC;QAAA,OAAIA,CAAC,CAACK,EAAE,KAAKA,EAAE;MAAA,EAAC;MAC/C,IAAIC,IAAI,EAAE;QACRA,IAAI,CAACE,KAAK,GAAGC,MAAM,CAACH,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC;MACrC;IACF,CAAC;IAEDE,UAAU,WAAVA,UAAUA,CAACjB,KAAK,EAAE;MAChBA,KAAK,CAACC,KAAK,CAACiB,OAAO,CAAC,UAAAX,CAAC,EAAI;QACvBA,CAAC,CAACQ,KAAK,GAAG,CAAC;MACb,CAAC,CAAC;IACJ,CAAC;IAEDI,UAAU,WAAVA,UAAUA,CAACnB,KAAK,EAAEoB,WAAW,EAAE;MAC7B,IAAMC,KAAK,GAAGrB,KAAK,CAACC,KAAK,CAACqB,SAAS,CAAC,UAAAf,CAAC;QAAA,OAAIA,CAAC,CAACK,EAAE,KAAKQ,WAAW,CAACR,EAAE;MAAA,EAAC;MACjE,IAAIS,KAAK,KAAK,CAAC,CAAC,EAAE;QAChBrB,KAAK,CAACC,KAAK,CAACoB,KAAK,CAAC,GAAAE,aAAA,CAAAA,aAAA,KAAQvB,KAAK,CAACC,KAAK,CAACoB,KAAK,CAAC,GAAKD,WAAW,CAAE;MAChE;IACF;EACF,CAAC;EAEDI,OAAO,EAAE;IACPC,eAAe,WAAfA,eAAeA,CAAAC,IAAA,EAAad,EAAE,EAAE;MAAA,IAAde,MAAM,GAAAD,IAAA,CAANC,MAAM;MACtBC,UAAU,CAAC;QAAA,OAAMD,MAAM,CAAC,cAAc,EAAEf,EAAE,CAAC;MAAA,GAAE,GAAG,CAAC;IACnD,CAAC;IAEDiB,aAAa,WAAbA,aAAaA,CAAAC,KAAA,EAAa;MAAA,IAAVH,MAAM,GAAAG,KAAA,CAANH,MAAM;MACpBC,UAAU,CAAC;QAAA,OAAMD,MAAM,CAAC,YAAY,CAAC;MAAA,GAAE,GAAG,CAAC;IAC7C;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}