{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { createStore } from \"vuex\";\nimport postsJson from \"@/data/posts.json\";\nexport default createStore({\n  strict: true,\n  state: {\n    posts: postsJson\n  },\n  getters: {\n    allPosts: function allPosts(state) {\n      return state.posts;\n    },\n    postsByTag: function postsByTag(state) {\n      return function (tag) {\n        return state.posts.filter(function (p) {\n          return p.tags.includes(tag);\n        });\n      };\n    }\n  },\n  mutations: {\n    increaseLike: function increaseLike(state, id) {\n      var post = state.posts.find(function (p) {\n        return p.id === id;\n      });\n      if (post) post.likes = Number(post.likes) + 1;\n    },\n    resetLikes: function resetLikes(state) {\n      state.posts.forEach(function (p) {\n        return p.likes = 0;\n      });\n    }\n  },\n  actions: {\n    increaseLikeAct: function increaseLikeAct(_ref, id) {\n      var commit = _ref.commit;\n      setTimeout(function () {\n        return commit(\"increaseLike\", id);\n      }, 200);\n    },\n    resetLikesAct: function resetLikesAct(_ref2) {\n      var commit = _ref2.commit;\n      setTimeout(function () {\n        return commit(\"resetLikes\");\n      }, 200);\n    }\n  }\n});","map":{"version":3,"names":["createStore","postsJson","strict","state","posts","getters","allPosts","postsByTag","tag","filter","p","tags","includes","mutations","increaseLike","id","post","find","likes","Number","resetLikes","forEach","actions","increaseLikeAct","_ref","commit","setTimeout","resetLikesAct","_ref2"],"sources":["/Users/karlmarkus/Documents/Veebirakenduste_Loomine/wadHW3/src/store/index.js"],"sourcesContent":["import { createStore } from \"vuex\";\nimport postsJson from \"@/data/posts.json\";\n\nexport default createStore({\n  strict: true,\n\n  state: {\n    posts: postsJson\n  },\n\n  getters: {\n    allPosts: state => state.posts,\n    postsByTag: state => tag => state.posts.filter(p => p.tags.includes(tag))\n  },\n\n  mutations: {\n    increaseLike(state, id) {\n      const post = state.posts.find(p => p.id === id);\n      if (post) post.likes = Number(post.likes) + 1;\n    },\n\n    resetLikes(state) {\n      state.posts.forEach(p => (p.likes = 0));\n    }\n  },\n\n  actions: {\n    increaseLikeAct({ commit }, id) {\n      setTimeout(() => commit(\"increaseLike\", id), 200);\n    },\n    resetLikesAct({ commit }) {\n      setTimeout(() => commit(\"resetLikes\"), 200);\n    }\n  }\n});"],"mappings":";;;;;;;;;;;;;AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,SAAS,MAAM,mBAAmB;AAEzC,eAAeD,WAAW,CAAC;EACzBE,MAAM,EAAE,IAAI;EAEZC,KAAK,EAAE;IACLC,KAAK,EAAEH;EACT,CAAC;EAEDI,OAAO,EAAE;IACPC,QAAQ,EAAE,SAAVA,QAAQA,CAAEH,KAAK;MAAA,OAAIA,KAAK,CAACC,KAAK;IAAA;IAC9BG,UAAU,EAAE,SAAZA,UAAUA,CAAEJ,KAAK;MAAA,OAAI,UAAAK,GAAG;QAAA,OAAIL,KAAK,CAACC,KAAK,CAACK,MAAM,CAAC,UAAAC,CAAC;UAAA,OAAIA,CAAC,CAACC,IAAI,CAACC,QAAQ,CAACJ,GAAG,CAAC;QAAA,EAAC;MAAA;IAAA;EAC3E,CAAC;EAEDK,SAAS,EAAE;IACTC,YAAY,WAAZA,YAAYA,CAACX,KAAK,EAAEY,EAAE,EAAE;MACtB,IAAMC,IAAI,GAAGb,KAAK,CAACC,KAAK,CAACa,IAAI,CAAC,UAAAP,CAAC;QAAA,OAAIA,CAAC,CAACK,EAAE,KAAKA,EAAE;MAAA,EAAC;MAC/C,IAAIC,IAAI,EAAEA,IAAI,CAACE,KAAK,GAAGC,MAAM,CAACH,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC;IAC/C,CAAC;IAEDE,UAAU,WAAVA,UAAUA,CAACjB,KAAK,EAAE;MAChBA,KAAK,CAACC,KAAK,CAACiB,OAAO,CAAC,UAAAX,CAAC;QAAA,OAAKA,CAAC,CAACQ,KAAK,GAAG,CAAC;MAAA,CAAC,CAAC;IACzC;EACF,CAAC;EAEDI,OAAO,EAAE;IACPC,eAAe,WAAfA,eAAeA,CAAAC,IAAA,EAAaT,EAAE,EAAE;MAAA,IAAdU,MAAM,GAAAD,IAAA,CAANC,MAAM;MACtBC,UAAU,CAAC;QAAA,OAAMD,MAAM,CAAC,cAAc,EAAEV,EAAE,CAAC;MAAA,GAAE,GAAG,CAAC;IACnD,CAAC;IACDY,aAAa,WAAbA,aAAaA,CAAAC,KAAA,EAAa;MAAA,IAAVH,MAAM,GAAAG,KAAA,CAANH,MAAM;MACpBC,UAAU,CAAC;QAAA,OAAMD,MAAM,CAAC,YAAY,CAAC;MAAA,GAAE,GAAG,CAAC;IAC7C;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}